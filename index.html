<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />

	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="author" content="Shreesh Katyayan" />
	
	<title>Tripoto Comment Assignment</title>
	
	<link rel="shortcut icon" href="favicon.ico">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
	<script type="text/javascript" src="js/script.js"></script>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons|Roboto:400,700,300,300italic,400italic,700italic" rel="stylesheet" />
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body ng-app="commentApp">
	<!--Container open-->
	<div class="container" ng-controller="commentController">
		<form id="new-comment" ng-submit="insertComment()">
			<input type="text" placeholder="Write a comment..." ng-model="new_comment" />
		</form>
		<ul class="comment">
			<li class="comment-list" ng-repeat="comment in comments">
				<header>
					<a href="#!" class="comment-author">
						<img ng-src="{{ comment.avatar_url }}" class="avatar">{{ comment.name }}
					</a>
					<div class="option" ng-show="isAuthor(comment.userID)">
						<i class="material-icons">settings</i>
						<ul>
							<a ng-click="comment.edit = true"><li>Edit</li></a>
							<a ng-click="deleteComment(comment.commentID)"><li>Delete</li></a>
						</ul>
					</div>
				</header>
				<div class="comment-body">
					<p class="says" ng-if="!comment.edit">{{ comment.says }}</p>
					<form class="reply-form active" ng-submit="editComment(comment.commentID)" ng-if="comment.edit">
						<input type="text" placeholder="{{ comment.says }}" ng-model="comments.edit_comment" />
					</form>
				</div>
				<footer>
					<a ng-click="isCommentLiked(comment.commentID)" class="liked">Like <span class="badge" ng-show="comment.like_status">{{ comment.likes }}</span></a>
					<a class="no-url" ng-click="comment.add_reply = true">Reply</a>
					<form class="reply-form active" ng-submit="insertReply(comment.commentID)" ng-if="comment.add_reply">
						<input type="text" placeholder="Reply to a comment..." ng-model="comments.new_reply" />
					</form>
				</footer>
				<div ng-show="hasReplies(comment.commentID)" class="replies">
					<ul class="comment">
						<li class="comment-list" ng-repeat="reply in comment.replies">
							<header>
								<a href="#!" class="comment-author">
									<img ng-src="{{ reply.avatar_url }}" class="avatar">{{ reply.name }}
								</a>
								<div class="option" ng-show="isAuthor(reply.userID)">
									<i class="material-icons">settings</i>
									<ul>
										<a ng-click="reply.edit = true"><li>Edit</li></a>
										<a ng-click="deleteReply(comment.commentID, reply.replyID)"><li>Delete</li></a>
									</ul>
								</div>
							</header>
							<div class="comment-body">
								<p class="says" ng-if="!reply.edit">{{ reply.says }}</p>
								<form class="reply-form active" ng-submit="editReply(comment.commentID, reply.replyID)" ng-if="reply.edit">
									<input type="text" placeholder="{{ reply.says }}" ng-model="comments.replies.edit_reply" />
								</form>
							</div>
							<footer>
								<a ng-click="isReplyLiked(comment.commentID, reply.replyID)" class="liked">Like <span class="badge" ng-show="reply.like_status">{{ reply.likes }}</span></a>
							</footer>
						</li>
					</ul>
				</div>
			</li>
		</ul>
	<!--Container close-->
	</div>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
</body>
</html>